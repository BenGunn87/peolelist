(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,t,n){e.exports=n(332)},180:function(e,t,n){},236:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=236},331:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(7),l=n.n(o),i=n(18),c=n(64);n(179),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(180);var s=n(333),u=n(49),h=n(22),m=n(26),d=n(33),p=n(32),f=n(34),b=n(127),E=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e="/cardlist"===this.props.location.pathname?"2":"1";return r.a.createElement(b.b,{style:{width:200},defaultSelectedKeys:["1"],selectedKeys:[e],theme:"dark",mode:"inline"},r.a.createElement(b.b.Item,{key:"1"},r.a.createElement(c.b,{to:"/peopletable"},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430")),r.a.createElement(b.b.Item,{key:"2"},r.a.createElement(c.b,{to:"/cardlist"},"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438")))}}]),t}(r.a.Component),g=Object(u.f)(E),y=n(77),v=n(80),S=n(336),O=n(28),j=n(68),k=n(37),C=n(337),w=n(339),x=n(338),K=n(11),F=n(78),R=n(163),B=n.n(R),N="https://swapi.co/api/people/";function M(){return fetch(N).then(function(e){return e.json()}).then(function(e){return e.results}).catch(alert)}var I=function(){function e(t){var n=this;Object(h.a)(this,e),this.addKey=function(e){return Object(F.a)({key:B()()},e)},this.putPeople=function(e){var t=[];e.forEach(function(e){t.push(n.addKey(e))}),n.people=t},this.delPeople=function(e){n.people=n.people.filter(function(t){return-1===e.indexOf(t.key)})},this.addMan=function(e){n.people.unshift(n.addKey(e))},this.editMan=function(e,t){var a=n.getManIndByKey(e);n.people[a]=t,n.people[a].key=e},this.getManIndByKey=function(e){for(var t=0;t<n.people.length;t++)if(n.people[t].key===e)return t;return-1},this.getManByKey=function(e){return n.people.filter(function(t){return t.key===e})[0]},this.fieldList=["name","gender","height","mass"],this.rootstore=t,this.people=[],this.loaded=!1,this.fetch()}return Object(m.a)(e,[{key:"fetch",value:function(){var e=this;this.loaded=!1,M().then(function(t){e.putPeople(t.map(function(t){var n={};return e.fieldList.forEach(function(e){return n[e]=t[e]}),n})),e.loaded=!0})}},{key:"peopleCount",get:function(){return this.people.length}}]),e}();Object(K.h)(I,{people:K.m,loaded:K.m,peopleCount:K.e,putPeople:K.d,addMan:K.d,editMan:K.d,delPeople:K.d});var L=I,P=function(){function e(t){var n=this;Object(h.a)(this,e),this.searchText="",this.searchIndex="",this.selectedRowKeys=[],this.setSearchData=function(e,t){n.searchText=e,n.searchIndex=t},this.setSelectedRowKeys=function(e){n.selectedRowKeys=e},this.rootstore=t}return Object(m.a)(e,[{key:"isSelected",get:function(){return 0!==this.selectedRowKeys.length}}]),e}();Object(K.h)(P,{searchText:K.m,searchIndex:K.m,selectedRowKeys:K.m,isSelected:K.e,setSearchData:K.d,setSelectedRowKeys:K.d});var T=P,D=function e(t){var n=this;Object(h.a)(this,e),this.visibleEditForm=!1,this.key="",this.toggleVisibleEditForm=function(){return n.visibleEditForm=!n.visibleEditForm},this.rootstore=t};Object(K.h)(D,{visibleEditForm:K.m,toggleVisibleEditForm:K.d});var V=D,H=new function e(){Object(h.a)(this,e),this.peopleStore=new L(this),this.peopleTableStore=new T(this),this.viewStore=new V(this)},q=v.a.Option,A=H.peopleStore.fieldList,G=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h.a)(this,e),this.onNameChange=function(e){t.name=e.target.value,t.nameError=!1},this.onGenderChange=function(e){t.gender=e,t.genderError=!1},this.onHeightChange=function(e){t.height=e,t.heightError=!1},this.onMassChange=function(e){t.mass=e,t.massError=!1},this.setError=function(e){e.forEach(function(e){return t["".concat(e,"Error")]=!0})};var a=!0,r=!1,o=void 0;try{for(var l,i=A[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var c,s=l.value;this[s]=n[s],this["".concat(s,"Error")]=!1,Object(K.h)(this,(c={},Object(y.a)(c,s,K.m),Object(y.a)(c,s+"Error",K.m),c))}}catch(u){r=!0,o=u}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}};Object(K.h)(G,{onNameChange:K.d,onGenderChange:K.d,onHeightChange:K.d,onMassChange:K.d,setError:K.d});var W=function(e){var t=A.filter(function(t){return!e[t]});return e.setError(t),0===t.length},z=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleOk=function(){if(W(n.formStore)){var e={};A.forEach(function(t){e[t]=n.formStore[t]}),n.props.handleOk(e)}},n.formStore=new G(e.man),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.handleCancel,a=e.title,o=this.formStore,l=o.name,i=o.gender,c=o.height,s=o.mass,u=this.formStore,h=u.nameError,m=u.genderError,d=u.heightError,p=u.massError,f=this.formStore,b=f.onNameChange,E=f.onGenderChange,g=f.onHeightChange,y=f.onMassChange;return r.a.createElement(S.a,{title:a,visible:t,onCancel:n,footer:[r.a.createElement(O.a,{key:"back",onClick:n},"Return"),r.a.createElement(O.a,{key:"submit",type:"primary",onClick:this.handleOk},"Save")]},r.a.createElement(j.a,null,r.a.createElement(k.a,{span:6,className:"ant-form-item-label"},r.a.createElement("label",{className:"ant-form-item-required",htmlFor:"name",title:"name",style:{paddingBottom:8}},"Name")),r.a.createElement(k.a,{span:18},r.a.createElement(C.a,{id:"name",defaultValue:l,onChange:b}),h?r.a.createElement(w.a,{message:"Please input name!",type:"error",banner:!0}):null)),r.a.createElement(j.a,null,r.a.createElement(k.a,{span:6,className:"ant-form-item-label"},r.a.createElement("label",{className:"ant-form-item-required",htmlFor:"gender",title:"gender",style:{paddingBottom:8}},"Gender")),r.a.createElement(k.a,{span:18},r.a.createElement(v.a,{defaultValue:i,style:{width:120},onChange:E},r.a.createElement(q,{value:"male"},"male"),r.a.createElement(q,{value:"female"},"female"),r.a.createElement(q,{value:"n/a"},"n/a")),m?r.a.createElement(w.a,{message:"Please select gender!",type:"error",banner:!0}):null)),r.a.createElement(j.a,null,r.a.createElement(k.a,{span:6,className:"ant-form-item-label"},r.a.createElement("label",{className:"ant-form-item-required",htmlFor:"height",title:"height",style:{paddingBottom:8}},"Height (cm)")),r.a.createElement(k.a,{span:18},r.a.createElement(x.a,{id:"height",min:0,max:1e4,defaultValue:c,onChange:g}),d?r.a.createElement(w.a,{message:"Please input height!",type:"error",banner:!0}):null)),r.a.createElement(j.a,null,r.a.createElement(k.a,{span:6,className:"ant-form-item-label"},r.a.createElement("label",{className:"ant-form-item-required",htmlFor:"mass",title:"mass"},"Mass (kg)")),r.a.createElement(k.a,{span:18},r.a.createElement(x.a,{id:"mass",min:0,max:1e4,defaultValue:s,onChange:y}),p?r.a.createElement(w.a,{message:"Please input mass!",type:"error",banner:!0}):null)))}}]),t}(r.a.Component);Object(i.c)(z);var J=z,U=Object(i.b)("peopleStore","viewStore")(Object(i.c)(function(e){var t=e.peopleStore,n=e.viewStore,a=n.key,o=n.toggleVisibleEditForm,l=n.visibleEditForm;if(!l)return null;var i=a?function(e){o(),t.editMan(a,e)}:function(e){o(),t.addMan(e)},c=a?"Edit profile":"Add profile",s=a?t.getManByKey(a):{};return r.a.createElement(J,{peopleStore:t,title:c,viewStore:n,visible:l,handleOk:i,handleCancel:function(){o()},man:s})})),_=n(335),$=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.man;return r.a.createElement(r.a.Fragment,null,this.props.fieldList.map(function(t,n){return r.a.createElement("div",{key:e[t]+e.key},t,": ",e[t])}))}}]),t}(r.a.Component),Q=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dataSource,n=e.onEditClick,a=[[]],o=0,l=this.props.fieldList,i=l[0];return l=l.slice(1),t.forEach(function(e,t){t%3===0&&0!==t&&(a[o]=r.a.createElement(j.a,{gutter:16,style:{marginBottom:"20px"},key:o},a[o]),a.push([]),o++),a[o].push(r.a.createElement(k.a,{span:8,key:e.key},r.a.createElement(_.a,{title:e[i],bordered:!1,extra:r.a.createElement(O.a,{icon:"edit",onClick:function(){return n(e.key)}})},r.a.createElement($,{fieldList:l,man:e}))))}),0===a[o].length?a.shift():a[o]=r.a.createElement(j.a,{gutter:16,style:{marginBottom:"20px"},key:o},a[o]),r.a.createElement("div",{style:{padding:"20px 0 0 0"}},a)}}]),t}(r.a.Component);Object(i.c)(Q),Object(i.c)($);var X=Q,Y=Object(i.b)("peopleStore")(Object(i.c)(function(e){var t=e.peopleStore;if(!t.loaded)return r.a.createElement("div",{style:{paddingTop:"20px"}},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430");return r.a.createElement(X,{dataSource:t.people,fieldList:t.fieldList,onEditClick:function(e){t.rootstore.viewStore.key=e,t.rootstore.viewStore.toggleVisibleEditForm()}})})),Z=n(171),ee=n(9),te=n(334),ne=n(167),ae=n.n(ne),re=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSelectChange=function(e){n.tableStore.setSelectedRowKeys(e)},n.getColumnSearchProps=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,o=t.selectedKeys,l=t.confirm,i=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(C.a,{ref:function(e){n.searchInput=e},placeholder:"Search ".concat(e),value:o[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return n.handleSearch(o,l,e)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(O.a,{type:"primary",onClick:function(){return n.handleSearch(o,l,e)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(O.a,{onClick:function(){return n.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(ee.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return n.searchInput.select()})},render:function(e,t,a){return e===t[n.tableStore.searchIndex]?r.a.createElement(ae.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n.tableStore.searchText],autoEscape:!0,textToHighlight:e.toString()}):e}}},n.handleSearch=function(e,t,a){t(),n.tableStore.setSearchData(e[0],a),n.tableStore.setSelectedRowKeys([])},n.handleReset=function(e){e(),n.tableStore.setSearchData("","")},n.tableStore=e.tableStore,n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t={selectedRowKeys:this.tableStore.selectedRowKeys,hideDefaultSelections:!0,onChange:this.onSelectChange},n=this.props,a=n.columns,o=n.searchFields,l=Object(Z.a)(n,["columns","searchFields"]);return a=a.map(function(t,n){return-1!==o.indexOf(n)?Object(F.a)({},t,e.getColumnSearchProps(t.key)):Object(F.a)({},t)}),r.a.createElement(te.a,Object.assign({columns:a,rowSelection:t},l))}}]),t}(r.a.Component);Object(i.c)(re);var oe=re,le=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.peopleStore,t=e.fieldList,n=e.people,a=e.peopleCount,o=this.props,l=o.tableStore,i=o.onDelButtonClick,c=o.onAddButtonClick,s=t.map(function(e){return{title:e,dataIndex:e,key:e}});return r.a.createElement("div",{"data-count":a},r.a.createElement("div",{className:"table-operations",style:{marginTop:16,marginBottom:16}},r.a.createElement(O.a,{style:{marginRight:8},onClick:c},"Add"),r.a.createElement(O.a,{disabled:!l.isSelected,onClick:i},"Delete")),r.a.createElement(oe,{dataSource:n,columns:s,tableStore:l,searchFields:[0,2]}))}}]),t}(r.a.Component);Object(i.c)(le);var ie=le,ce=Object(i.b)("peopleStore","peopleTableStore")(Object(i.c)(function(e){var t=e.peopleStore,n=e.peopleTableStore;return r.a.createElement(ie,{peopleStore:t,tableStore:n,onDelButtonClick:function(){var e=n.selectedRowKeys,a=n.setSelectedRowKeys;t.delPeople(e),a([])},onAddButtonClick:function(){t.rootstore.viewStore.key="",t.rootstore.viewStore.toggleVisibleEditForm()}})})),se=Object(i.b)("peopleStore")(Object(i.c)(function(e){return e.peopleStore.loaded?r.a.createElement(ce,null):r.a.createElement("div",{style:{paddingTop:"20px"}},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")})),ue=(n(331),s.a.Sider),he=s.a.Content;function me(){return r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement(s.a,{className:"layout"},r.a.createElement(ue,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0}},r.a.createElement(g,null)),r.a.createElement(s.a,{style:{marginLeft:200,height:"100vh"}},r.a.createElement(he,{style:{padding:"0 50px"}},r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/cardlist",component:Y}),r.a.createElement(u.a,{path:"/",component:se}))))))}Object(i.c)(me);var de=me;l.a.render(r.a.createElement(i.a,H,r.a.createElement(c.a,null,r.a.createElement(de,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[174,1,2]]]);
//# sourceMappingURL=main.d66a117e.chunk.js.map